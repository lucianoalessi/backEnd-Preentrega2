<h2 class="text-center my-4" style="color: white;">📦 Administracion de productos en tiempo real 🕓</h2>
<div class="container">
    <div class="jumbotron">
        <h3 class="display-4">👋 Bienvenido, {{user.first_name}} {{user.last_name}}!</h3>
        <h4 class="my-4">📝 Datos de usuario:</h4>
        <ul class="list-group list-group-flush">
            <li class="list-group-item">🎫 User ID: <span id="user-id">{{user._id}}</span></li>
            <li class="list-group-item">📧 Email: <span id="user-email">{{user.email}}</span></li>
            <li class="list-group-item">🎂 Edad: {{user.age}}</li>
            <li class="list-group-item">🏷️ Rol: <span id="user-role">{{user.role}}</span></li>
            <li class="list-group-item">🛒 Cart ID: <span id="cart-id">{{cart}}</span></li>
        </ul>
        {{#if userAdmin}}
            <a href="/usersadminmanager" class="btn btn-outline-secondary mt-4">
                👥⚙️ Users Manager
            </a>
        {{/if}}
        <form action="/api/sessions/logout" method="get" class="mt-4">
            <button class="btn btn-danger btn-block">🚪 Salir</button>
        </form>
    </div>

    <div class="container d-flex justify-content-center">
        <div class="col-md-6">
            <div class="card h-100">
                <div class="card-body">
                    <h3 class="card-title">Agrega un producto:</h3>
                    <form id="formProduct" enctype="multipart/form-data">
                        <div class="form-group">
                            <input class="form-control" type="text" name="title" id="title" placeholder="Ingrese Nombre del Producto" required>
                            <input class="form-control" type="text" name="description" id="description" placeholder="Ingrese description" required>
                            <input class="form-control" type="text" name="category" id="category" placeholder="Ingrese categoria" required>
                            <input class="form-control" type="number" name="price" id="price" placeholder="Ingrese precio del producto" required>
                            <input class="form-control" type="number" name="stock" id="stock" placeholder="Ingrese su stock" required>
                            <input class="form-control" type="text" name="code" id="code" placeholder="Ingrese codigo del producto" required>
                            <input class="form-control" type="file" name="product" id="productImage">
                        </div>
                        <button class="btn btn-primary btn-block" type="submit" name="add-btn" id="add-btn">Registrar</button>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card h-100">
                <div class="card-body">
                    <h3 class="card-title">Actualize un producto:</h3>
                    <form id="updateForm">
                        <div class="form-group">
                            <input class="form-control" type="text" name="productID" id="productID" placeholder="Ingrese ID" required>
                            <h4 class="my-4">Datos a actualizar:</h4>
                            <input class="form-control" type="text" name="title" id="title" placeholder="Ingrese Nombre del Producto">
                            <input class="form-control" type="text" name="description" id="description" placeholder="Ingrese description">
                            <input class="form-control" type="text" name="category" id="category" placeholder="Ingrese categoria">
                            <input class="form-control" type="number" name="price" id="price" placeholder="Ingrese precio del producto">
                            <input class="form-control" type="number" name="stock" id="stock" placeholder="Ingrese su stock">
                            <input class="form-control" type="text" name="code" id="code" placeholder="Ingrese codigo del producto">
                            <input class="form-control" type="text" name="thumbnail" id="thumbnail" placeholder="Ingrese su imagen url">
                            <input class="form-control" type="file" name="product" id="productImage">
                        </div>
                        <button class="btn btn-primary btn-block" type="submit" name="add-btn" id="add-btn">Update</button>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card h-100">
                <div class="card-body">
                    <h3 class="card-title">Eliminar un producto:</h3>
                    <form id="deleteProduct">
                        <div class="form-group">
                            <input class="form-control" type="text" name="productID-delete" id="productID-delete" placeholder="Ingrese ID" required>
                        </div>
                    </form>
                    <button class="btn btn-danger btn-block" type="button" id="delete-btn">Eliminar</button>
                </div>
            </div>
        </div>
    </div>

    <h2 class="text-center my-4" style="color: white;">Productos:</h2>
    <div id="products-list-container" class="row">
        <!-- Los productos se insertarán aquí -->
    </div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script src="/static/js/realTimeProducts.js"></script>

<style>
body {
    background: linear-gradient(45deg, #06c -52%, #000 81%, #a044e3 95%);
    font-family: Arial, sans-serif;
}

.container {
    max-width: 960px;
    margin: auto;
    padding: 20px;
}

.card {
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
    transition: 0.3s;
}

.card:hover {
    box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
}

.card-body {
    padding: 20px;
}

.btn {
    border-radius: 12px;
    font-size: 18px;
    padding: 10px 20px;
}

.btn-primary {
    background-color: #007bff;
    border-color: #007bff;
}

.btn-danger {
    background-color: #dc3545;
    border-color: #dc3545;
}

.form-control {
    margin-bottom: 10px;
}
</style>

